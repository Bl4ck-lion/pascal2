---
import Layout from "../layouts/Layout.astro";
---

<Layout title="SWL - Viewing Post">
	<main class="m-auto min-h-[85.75vh] max-w-[100%] max-md:max-w-full">
		<div data-service="mdxui" style="width: 100%; height: 90vh;">
			<div data-placeholder data-visible class="flex-col">
				<img class="w-[20%]" src="./404.jpg" />
				<p>An error occoured while loading the data.</p>
			</div>
		</div>
	</main>
</Layout>
<script is:inline>
	var backendURL = document.getElementById("backendURL").dataset.backendurl;
	var postParam = new URL(window.location.href).searchParams.get("post");
	var classParam = new URL(window.location.href).searchParams.get("class");
	var postURL = backendURL + classParam + "/" + postParam;
	var im = iframemanager();
	im.run({
		currLang: "en",
		services: {
			mdxui: {
				embedUrl: postURL,

				thumbnailUrl: "https://genshin.global/wp-content/uploads/2022/05/raiden-shogun-yae-miko-official-desktop-wallpaper-genshin-2560x1440-1-2048x1152.jpg",

				iframe: {
					allow: "fullscreen;",
				},

				languages: {
					en: {
						notice: "Upon loading the content, this page will fetch data from a seperate server that is controlled by the community featuring a writer for each post. The writer will be responsible for every infomation given in every post written by him/her.",
						loadBtn: "Load it once",
						loadAllBtn: "Load it and Don't ask again",
					},
				},
			},
		},
	});
</script>
